/* Ghost Animations System - Simplified for maintenance and performance
   CSS-First approach with minimal JS interaction
   Contains all animation-related styles and keyframes for the ghost component.
*/

/* ----------------------------------------
   Base Animation Styles
   ---------------------------------------- */

.ghost-svg {
	/* Base transitions, transform origin removed */
	transition: all 0.3s ease;
}

/* New group for handling wobble transforms */
.ghost-wobble-group {
	/* transition: transform 0.1s ease-in-out; */ /* Remove transition, use animation */
	transform-origin: center center; /* Wobble around the bottom center */
}

/* Removed old body-based initial load rule */
/* .initial-load .ghost-svg { ... } */

/* New class to apply the combined initial load animation - Using ID for specificity */
#ghost-wobble-group.initial-load-effect {
	/* Chain two animations: initial-grow, then ghost-wobble-both */
	/* Durations: initial-grow = 2.21s, ghost-wobble-both = 0.29s (from WOBBLE_CONFIG) */
	animation:
		initial-grow 2.21s cubic-bezier(0.34, 1.56, 0.64, 1),
		/* forwards REMOVED */ ghost-wobble-both var(--ghost-wobble-duration, 0.29s) ease-in-out 2.21s; /* forwards REMOVED */
	/* Ensure transform origin is set */
	transform-origin: center center;
}

/* Individual eye styles - avoids transform conflicts */
.ghost-eye {
	transform-origin: center center;
	will-change: transform;
	transition: transform var(--ghost-eye-blink-transition, 0.08s cubic-bezier(0.4, 0, 0.2, 1));
}

/* Container animations */
.ghost-container {
	position: relative;
	width: 100%;
	height: 100%;
	cursor: pointer;
	background: transparent;
	border: none;
	outline: none;
	-webkit-tap-highlight-color: transparent;
	display: flex;
	justify-content: center;
	align-items: center;
	animation: gentle-float 3s ease-in-out infinite;
	animation-delay: 2.5s;
}

.ghost-container:focus,
.ghost-container:active,
.ghost-container:focus-visible {
	outline: none !important;
	outline-offset: 0 !important;
	box-shadow: none !important;
	border: none !important;
}

.ghost-non-clickable {
	cursor: default;
	pointer-events: none;
}

/* Base transition properties for all filter changes to prevent gaps */
.ghost-container {
	transition:
		filter 0.5s cubic-bezier(0.19, 1, 0.22, 1),
		transform 0.5s cubic-bezier(0.19, 1, 0.22, 1);
	will-change: filter, transform;
}

/* ----------------------------------------
   Interactive Animation Classes
   ---------------------------------------- */

/* Wobble effect - target the inner group directly using animations */
.ghost-wobble-group.wobble-left {
	/* Apply the keyframe animation */
	animation: ghost-do-wobble-left var(--ghost-wobble-duration, 0.39s) ease-in-out forwards;
}

.ghost-wobble-group.wobble-right {
	/* Apply the keyframe animation */
	animation: ghost-do-wobble-right var(--ghost-wobble-duration, 0.39s) ease-in-out forwards;
}

/* New class for combined wobble */
.ghost-wobble-group.wobble-both {
	animation: ghost-wobble-both var(--ghost-wobble-duration, 0.78s) ease-in-out; /* forwards REMOVED, Use updated duration */
}

/* Pulse animation */
.ghost-svg.ghost-pulse {
	animation: ghost-pulse 0.6s ease-in-out forwards;
}

/* Hover animation */
.ghost-container:hover .ghost-svg {
	animation: ghost-hover 1.2s ease-in-out infinite alternate;
	animation-delay: 0s;
}

/* Interactive states */
.ghost-container:active {
	animation: flash-transition 0.3s ease-out forwards !important;
	filter: brightness(1.3) !important; /* Immediate visual feedback */
}

/* Special spin animation - applied when .spin class is on the container */
.ghost-container.spin #ghost-spin-pivot {
	/* Target the new wrapper */
	animation: ghost-spin var(--ghost-special-duration, 2s) cubic-bezier(0.34, 1.56, 0.64, 1); /* Changed to easeOutBack timing */
	transform-origin: center center; /* Ensure correct pivot point */
}

/* Falling Asleep animation - applied directly to eyes */
.ghost-container.asleep .ghost-eye {
	/* Apply the falling asleep animation */
	animation: ghost-falling-asleep 5s ease-in-out 1 forwards; /* Run once, keep final state */
	transform-origin: center center;
}

/* Waking Up animation - applied to body and eyes */
.ghost-container.waking-up #ghost-spin-pivot { /* Apply shake to body */
	animation: ghost-wake-up-shake 0.8s cubic-bezier(.36,.07,.19,.97) both; /* Run once */
	transform-origin: center center;
}
.ghost-container.waking-up .ghost-eye { /* Apply blink awake to eyes */
	animation: ghost-wake-up-blink 0.8s ease-in-out 1 forwards; /* Run once */
	transform-origin: center center;
}


/* ----------------------------------------
   Theme-specific Base Animations
   ---------------------------------------- */

/* Theme-specific styles */
.theme-peach {
	filter: drop-shadow(0 0 10px rgba(255, 120, 160, 0.25))
		drop-shadow(0 0 15px rgba(255, 150, 120, 0.15));
}

.theme-mint {
	filter: drop-shadow(0 0 10px rgba(80, 235, 170, 0.25))
		drop-shadow(0 0 15px rgba(60, 220, 240, 0.15));
}

.theme-bubblegum {
	filter: drop-shadow(0 0 10px rgba(200, 140, 255, 0.25))
		drop-shadow(0 0 15px rgba(255, 110, 180, 0.15));
}

.theme-rainbow {
	filter: drop-shadow(0 0 10px rgba(255, 170, 190, 0.25))
		drop-shadow(0 0 15px rgba(210, 180, 255, 0.15)) drop-shadow(0 0 1px rgba(255, 255, 255, 0.5));
}

/* ----------------------------------------
   Theme-specific Hover Effects
   ---------------------------------------- */

/* Hover effects - Now only static filter, animation removed */
.theme-peach:hover {
	filter: drop-shadow(0 0 20px rgba(255, 130, 170, 0.85))
		drop-shadow(0 0 30px rgba(255, 160, 180, 0.7)) drop-shadow(0 0 45px rgba(255, 180, 190, 0.5));
	/* animation: peach-glow 5s cubic-bezier(0.4, 0, 0.2, 1) infinite; */ /* Removed */
}

.theme-mint:hover {
	filter: drop-shadow(0 0 20px rgba(80, 235, 170, 0.85))
		drop-shadow(0 0 30px rgba(60, 220, 240, 0.65)) drop-shadow(0 0 45px rgba(130, 255, 140, 0.5));
	/* animation: mint-glow 5s cubic-bezier(0.4, 0, 0.2, 1) infinite; */ /* Removed */
}

.theme-bubblegum:hover {
	filter: drop-shadow(0 0 20px rgba(210, 120, 255, 0.85))
		drop-shadow(0 0 30px rgba(255, 110, 180, 0.65)) drop-shadow(0 0 45px rgba(170, 190, 255, 0.5));
	/* animation: bubblegum-glow 5s cubic-bezier(0.4, 0, 0.2, 1) infinite; */ /* Removed */
}

.theme-rainbow:hover {
	filter: drop-shadow(0 0 20px rgba(180, 130, 255, 0.85))
		drop-shadow(0 0 30px rgba(130, 160, 255, 0.7)) drop-shadow(0 0 45px rgba(140, 180, 255, 0.6))
		drop-shadow(0 0 60px rgba(160, 220, 255, 0.5)) drop-shadow(0 0 5px rgba(255, 255, 255, 0.8));
	/* animation: rainbow-glow 3.5s cubic-bezier(0.4, 0, 0.2, 1) infinite; */ /* Removed */
}

/* ----------------------------------------
   Recording State Animations
   ---------------------------------------- */

/* Theme-specific recording animations - Simplified Selectors */
.ghost-container.recording.theme-peach {
	animation: recording-glow-peach 2s ease-in-out infinite;
}

.ghost-container.recording.theme-mint {
	animation: recording-glow-mint 2s ease-in-out infinite;
}

.ghost-container.recording.theme-bubblegum {
	animation: recording-glow-bubblegum 2s ease-in-out infinite;
}

.ghost-container.recording.theme-rainbow {
	animation: rainbow-color-cycle 3.5s ease-in-out infinite;
}

/* ----------------------------------------
   Theme-specific Shape Animations
   ---------------------------------------- */

/* Shape element animations per theme */
.ghost-svg.theme-rainbow #ghost-shape {
	animation: rainbowFlow 9s cubic-bezier(0.4, 0, 0.6, 1) infinite;
	transform-origin: center;
	will-change: transform, filter;
}

.ghost-svg.theme-peach #ghost-shape {
	animation:
		shimmer 5s infinite ease-in-out,
		peachFlow 9s infinite cubic-bezier(0.4, 0, 0.6, 1);
	transform-origin: center;
	will-change: transform, opacity, filter;
}

.ghost-svg.theme-mint #ghost-shape {
	animation:
		shimmer 6s infinite ease-in-out,
		mintFlow 10s infinite cubic-bezier(0.4, 0, 0.6, 1);
	transform-origin: center;
	will-change: transform, filter;
}

.ghost-svg.theme-bubblegum #ghost-shape {
	animation:
		shimmer 7s infinite ease-in-out,
		bubblegumFlow 12s infinite cubic-bezier(0.4, 0, 0.6, 1);
	transform-origin: center;
	will-change: transform, filter;
}

/* ----------------------------------------
   Gradient Animation Assignments
   ---------------------------------------- */

/* Peach gradient animations - Re-enabled CSS animations */
#peachGradient {
	animation: gradientShift 12s infinite ease-in-out;
	will-change: x1, y1, x2, y2;
}

#peachGradient stop:nth-child(1) {
	animation: pinkPulse 5s infinite ease-in-out;
}

#peachGradient stop:nth-child(2) {
	animation: rosePulse 5s 0.5s infinite ease-in-out;
}

#peachGradient stop:nth-child(3) {
	animation: peachPulse 5s 1s infinite ease-in-out;
}

#peachGradient stop:nth-child(4) {
	animation: mandarinPulse 5s 1.5s infinite ease-in-out;
}

#peachGradient stop:nth-child(5) {
	animation: yellowPulse 5s 2s infinite ease-in-out;
}

/* Mint gradient animations - Re-enabled CSS animations */
#mintGradient {
	animation: gradientShift 14s infinite ease-in-out;
	will-change: x1, y1, x2, y2;
}

#mintGradient stop:nth-child(1) {
	animation: mintStartPulse 5s infinite ease-in-out;
}

#mintGradient stop:nth-child(2) {
	animation: mintMid1Pulse 5s 0.5s infinite ease-in-out;
}

#mintGradient stop:nth-child(3) {
	animation: mintMid2Pulse 5s 1s infinite ease-in-out;
}

#mintGradient stop:nth-child(4) {
	animation: mintMid3Pulse 5s 1.5s infinite ease-in-out;
}

#mintGradient stop:nth-child(5) {
	animation: mintEndPulse 5s 2s infinite ease-in-out;
}

/* Bubblegum gradient animations - Re-enabled CSS animations */
#bubblegumGradient {
	animation: gradientShift 16s infinite ease-in-out;
	will-change: x1, y1, x2, y2;
}

#bubblegumGradient stop:nth-child(1) {
	animation: bubblegumStartPulse 5s infinite ease-in-out;
}

#bubblegumGradient stop:nth-child(2) {
	animation: bubblegumMid1Pulse 5s 0.5s infinite ease-in-out;
}

#bubblegumGradient stop:nth-child(3) {
	animation: bubblegumMid2Pulse 5s 1s infinite ease-in-out;
}

#bubblegumGradient stop:nth-child(4) {
	animation: bubblegumMid3Pulse 5s 1.5s infinite ease-in-out;
}

#bubblegumGradient stop:nth-child(5) {
	animation: bubblegumEndPulse 5s 2s infinite ease-in-out;
}

/* ----------------------------------------
   Special Animation Keyframes (Easter Egg)
   ---------------------------------------- */
@keyframes ghost-spin {
	0% {
		transform: rotate(0deg) scale(1);
	}
	50% {
		transform: rotate(180deg) scale(1.15); /* Scale up at mid-rotation */
	}
	100% {
		transform: rotate(360deg) scale(1); /* Single full rotation, scale back down */
	}
}

/* Removed @keyframes ghost-asleep */

@keyframes ghost-falling-asleep { /* Renamed */
	0% { transform: scaleY(1); }     /* Start fully open */
	20% { transform: scaleY(0.4); }   /* Getting drowsy */
	35% { transform: scaleY(0.8); }   /* Tries to open */
	50% { transform: scaleY(0.2); }   /* Fails, closes more */
	65% { transform: scaleY(0.5); }   /* Another small attempt */
	80% { transform: scaleY(0.2); }   /* Almost asleep */
	90% { transform: scaleY(0.25); }  /* Final flicker? */
	100% { transform: scaleY(0.15); } /* Final closed state (thicker) */
}

@keyframes ghost-wake-up-shake { /* Body shake */
  10%, 90% { transform: translate3d(-1px, 0, 0) scale(1.01) rotate(-0.5deg); }
  20%, 80% { transform: translate3d(2px, 0, 0) scale(0.99) rotate(0.5deg); }
  30%, 50%, 70% { transform: translate3d(-3px, 0, 0) scale(1.02) rotate(-0.8deg); }
  40%, 60% { transform: translate3d(3px, 0, 0) scale(0.98) rotate(0.8deg); }
  100% { transform: translate3d(0, 0, 0) scale(1) rotate(0deg); }
}

@keyframes ghost-wake-up-blink { /* Eye blink awake */
  0% { transform: scaleY(0.05); } /* Start closed */
  50% { transform: scaleY(0.05); } /* Stay closed */
  70% { transform: scaleY(1.2); }  /* Open wide quickly */
  100% { transform: scaleY(1); }   /* Settle open */
}


/* ----------------------------------------
   Hover Glow Keyframe Animations
   ---------------------------------------- */

/* Peach theme glow animation - analogous color scheme with transitions */
@keyframes peach-glow {
	0%,
	100% {
		filter: drop-shadow(0 0 10px rgba(255, 140, 170, 0.6))
			drop-shadow(0 0 15px rgba(255, 130, 170, 0.4));
	}
	33% {
		filter: drop-shadow(0 0 10px rgba(255, 170, 140, 0.6))
			drop-shadow(0 0 15px rgba(255, 160, 140, 0.4));
	}
	66% {
		filter: drop-shadow(0 0 10px rgba(255, 200, 130, 0.6))
			drop-shadow(0 0 15px rgba(255, 190, 120, 0.4));
	}
}

/* Mint theme glow animation - pastel colors with transitions */
@keyframes mint-glow {
	0%,
	100% {
		filter: drop-shadow(0 0 10px rgba(100, 230, 180, 0.6))
			drop-shadow(0 0 15px rgba(100, 230, 180, 0.4));
	}
	33% {
		filter: drop-shadow(0 0 10px rgba(80, 220, 230, 0.6))
			drop-shadow(0 0 15px rgba(80, 220, 230, 0.4));
	}
	66% {
		filter: drop-shadow(0 0 10px rgba(150, 245, 160, 0.6))
			drop-shadow(0 0 15px rgba(150, 245, 160, 0.4));
	}
}

/* Bubblegum theme glow animation - pastel purple/pink cycle */
@keyframes bubblegum-glow {
	0%,
	100% {
		filter: drop-shadow(0 0 10px rgba(200, 140, 255, 0.6))
			drop-shadow(0 0 15px rgba(200, 140, 255, 0.4));
	}
	33% {
		filter: drop-shadow(0 0 10px rgba(255, 140, 200, 0.6))
			drop-shadow(0 0 15px rgba(255, 140, 200, 0.4));
	}
	66% {
		filter: drop-shadow(0 0 10px rgba(180, 200, 255, 0.6))
			drop-shadow(0 0 15px rgba(180, 200, 255, 0.4));
	}
}

/* Rainbow theme glow animation - softer pastel colors with transitions */
@keyframes rainbow-glow {
	0%,
	100% {
		filter: drop-shadow(0 0 20px rgba(180, 130, 255, 0.95))
			drop-shadow(0 0 40px rgba(180, 130, 255, 0.7)) drop-shadow(0 0 4px rgba(255, 255, 255, 1));
	}
	25% {
		filter: drop-shadow(0 0 20px rgba(130, 160, 255, 0.95))
			drop-shadow(0 0 40px rgba(130, 160, 255, 0.7)) drop-shadow(0 0 4px rgba(240, 250, 255, 1));
	}
	50% {
		filter: drop-shadow(0 0 20px rgba(140, 180, 255, 0.95))
			drop-shadow(0 0 40px rgba(140, 180, 255, 0.7)) drop-shadow(0 0 4px rgba(235, 255, 255, 1));
	}
	75% {
		filter: drop-shadow(0 0 20px rgba(160, 220, 255, 0.95))
			drop-shadow(0 0 40px rgba(160, 220, 255, 0.7)) drop-shadow(0 0 4px rgba(230, 255, 250, 1));
	}
}

/* ----------------------------------------
   Basic Animation Keyframes 
   (Removed redundant recording glow keyframes from here)
   ---------------------------------------- */

@keyframes shimmer {
	0% {
		opacity: var(--ghost-shimmer-opacity-max, 1);
	}
	50% {
		opacity: var(--ghost-shimmer-opacity-min, 0.88);
	}
	100% {
		opacity: var(--ghost-shimmer-opacity-max, 1);
	}
}

@keyframes gradientShift {
	0% {
		x1: 0%;
		y1: 0%;
		x2: 100%;
		y2: 100%;
	}
	25% {
		x1: calc(0% + var(--ghost-gradient-shift-magnitude, 4%));
		y1: calc(0% + var(--ghost-gradient-shift-magnitude, 4%) * 0.25);
		x2: calc(100% - var(--ghost-gradient-shift-magnitude, 4%));
		y2: calc(100% + var(--ghost-gradient-shift-magnitude, 4%) * 0.25);
	}
	50% {
		x1: calc(0% + var(--ghost-gradient-shift-magnitude, 4%));
		y1: calc(0% + var(--ghost-gradient-shift-magnitude, 4%) * 0.75);
		x2: calc(100% - var(--ghost-gradient-shift-magnitude, 4%));
		y2: calc(100% - var(--ghost-gradient-shift-magnitude, 4%) * 0.5);
	}
	75% {
		x1: calc(0% + var(--ghost-gradient-shift-magnitude, 4%) * 0.25);
		y1: calc(0% + var(--ghost-gradient-shift-magnitude, 4%) * 0.75);
		x2: calc(100% - var(--ghost-gradient-shift-magnitude, 4%) * 0.25);
		y2: calc(100% - var(--ghost-gradient-shift-magnitude, 4%) * 0.75);
	}
	100% {
		x1: 0%;
		y1: 0%;
		x2: 100%;
		y2: 100%;
	}
}

/* Flash transition animation for state changes */
@keyframes flash-transition {
	0% {
		filter: brightness(1);
	}
	25% {
		filter: brightness(1.5);
	}
	100% {
		filter: brightness(1);
	}
}

/* Recording pulse animation */
@keyframes recording-glow-pulse {
	0%,
	100% {
		/* transform: scale(1); */ /* Removed to avoid conflict with wobble */
		filter: brightness(0.95) saturate(0.95);
	}
	50% {
		/* transform: scale(1.08); */ /* Removed to avoid conflict with wobble */
		filter: brightness(1.25) saturate(1.35);
	}
}

/* ----------------------------------------
   Gradient Color Keyframes
   ---------------------------------------- */

/* Peach theme gradient stop animations */
@keyframes pinkPulse {
	0% {
		stop-color: var(--ghost-peach-start);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-peach-start-bright);
		stop-opacity: 1;
	}
	100% {
		stop-color: var(--ghost-peach-start);
		stop-opacity: 0.9;
	}
}

@keyframes rosePulse {
	0% {
		stop-color: var(--ghost-peach-mid1);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-peach-mid1-bright);
		stop-opacity: 0.8;
	}
	100% {
		stop-color: var(--ghost-peach-mid1);
		stop-opacity: 0.9;
	}
}

@keyframes peachPulse {
	0% {
		stop-color: var(--ghost-peach-mid2);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-peach-mid2-bright);
		stop-opacity: 0.8;
	}
	100% {
		stop-color: var(--ghost-peach-mid2);
		stop-opacity: 0.9;
	}
}

@keyframes mandarinPulse {
	0% {
		stop-color: var(--ghost-peach-mid3);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-peach-mid3-bright);
		stop-opacity: 0.7;
	}
	100% {
		stop-color: var(--ghost-peach-mid3);
		stop-opacity: 0.9;
	}
}

@keyframes yellowPulse {
	0% {
		stop-color: var(--ghost-peach-end);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-peach-end-bright);
		stop-opacity: 0.85;
	}
	100% {
		stop-color: var(--ghost-peach-end);
		stop-opacity: 0.9;
	}
}

/* Mint theme gradient stop animations */
@keyframes mintStartPulse {
	0% {
		stop-color: var(--ghost-mint-start);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-mint-start-bright);
		stop-opacity: 1;
	}
	100% {
		stop-color: var(--ghost-mint-start);
		stop-opacity: 0.9;
	}
}

@keyframes mintMid1Pulse {
	0% {
		stop-color: var(--ghost-mint-mid1);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-mint-mid1-bright);
		stop-opacity: 0.8;
	}
	100% {
		stop-color: var(--ghost-mint-mid1);
		stop-opacity: 0.9;
	}
}

@keyframes mintMid2Pulse {
	0% {
		stop-color: var(--ghost-mint-mid2);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-mint-mid2-bright);
		stop-opacity: 0.8;
	}
	100% {
		stop-color: var(--ghost-mint-mid2);
		stop-opacity: 0.9;
	}
}

@keyframes mintMid3Pulse {
	0% {
		stop-color: var(--ghost-mint-mid3);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-mint-mid3-bright);
		stop-opacity: 0.7;
	}
	100% {
		stop-color: var(--ghost-mint-mid3);
		stop-opacity: 0.9;
	}
}

@keyframes mintEndPulse {
	0% {
		stop-color: var(--ghost-mint-end);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-mint-end-bright);
		stop-opacity: 0.85;
	}
	100% {
		stop-color: var(--ghost-mint-end);
		stop-opacity: 0.9;
	}
}

/* Bubblegum theme gradient stop animations */
@keyframes bubblegumStartPulse {
	0% {
		stop-color: var(--ghost-bubblegum-start);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-bubblegum-start-bright);
		stop-opacity: 1;
	}
	100% {
		stop-color: var(--ghost-bubblegum-start);
		stop-opacity: 0.9;
	}
}

@keyframes bubblegumMid1Pulse {
	0% {
		stop-color: var(--ghost-bubblegum-mid1);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-bubblegum-mid1-bright);
		stop-opacity: 0.8;
	}
	100% {
		stop-color: var(--ghost-bubblegum-mid1);
		stop-opacity: 0.9;
	}
}

@keyframes bubblegumMid2Pulse {
	0% {
		stop-color: var(--ghost-bubblegum-mid2);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-bubblegum-mid2-bright);
		stop-opacity: 0.8;
	}
	100% {
		stop-color: var(--ghost-bubblegum-mid2);
		stop-opacity: 0.9;
	}
}

@keyframes bubblegumMid3Pulse {
	0% {
		stop-color: var(--ghost-bubblegum-mid3);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-bubblegum-mid3-bright);
		stop-opacity: 0.7;
	}
	100% {
		stop-color: var(--ghost-bubblegum-mid3);
		stop-opacity: 0.9;
	}
}

@keyframes bubblegumEndPulse {
	0% {
		stop-color: var(--ghost-bubblegum-end);
		stop-opacity: 0.9;
	}
	50% {
		stop-color: var(--ghost-bubblegum-end-bright);
		stop-opacity: 0.85;
	}
	100% {
		stop-color: var(--ghost-bubblegum-end);
		stop-opacity: 0.9;
	}
}

/* ----------------------------------------
   Movement Animation Keyframes
   ---------------------------------------- */

@keyframes gentle-float {
	0%,
	100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-3px);
	}
}

@keyframes ghost-hover {
	0% {
		transform: scale(1.005) translateY(0);
	}
	100% {
		transform: scale(1.015) translateY(-3px);
	}
}

@keyframes ghost-wobble-left {
	0% {
		transform: rotate(0deg) scale(1);
	}
	25% {
		transform: rotate(-5deg) scale(1.02);
	}
	50% {
		transform: rotate(3deg) scale(1.01);
	}
	75% {
		transform: rotate(-2deg) scale(1.01);
	}
	100% {
		transform: rotate(0deg) scale(1);
	}
}

@keyframes ghost-wobble-right {
	0% {
		transform: rotate(0deg) scale(1);
	}
	25% {
		transform: rotate(5deg) scale(1.02);
	}
	50% {
		transform: rotate(-3deg) scale(1.01);
	}
	75% {
		transform: rotate(2deg) scale(1.01);
	}
	100% {
		transform: rotate(0deg) scale(1);
	}
}

@keyframes ghost-pulse {
	0% {
		transform: scale(1);
	}
	50% {
		transform: scale(1.05);
	}
	100% {
		transform: scale(1);
	}
}

/* @keyframes recording-pulse removed as unused */

/* Keyframes for the Wobble Effect */
@keyframes ghost-do-wobble-left {
	0% {
		transform: rotate(0deg) scale(1);
	}
	50% {
		transform: rotate(-8deg) scale(1.04);
	} /* Peak wobble */
	100% {
		transform: rotate(0deg) scale(1);
	} /* Return to normal */
}

@keyframes ghost-do-wobble-right {
	0% {
		transform: rotate(0deg) scale(1);
	}
	50% {
		transform: rotate(8deg) scale(1.04);
	} /* Peak wobble */
	100% {
		transform: rotate(0deg) scale(1);
	} /* Return to normal */
}

/* New Keyframe for Combined Left-Right Wobble */
@keyframes ghost-wobble-both {
	0% {
		transform: rotate(0deg) scale(1);
	}
	25% {
		transform: rotate(-8deg) scale(1.04);
	} /* Peak left */
	75% {
		transform: rotate(8deg) scale(1.04);
	} /* Peak right */
	100% {
		transform: rotate(0deg) scale(1);
	} /* Return */
}

/* New Keyframe for the initial grow part only */
@keyframes initial-grow {
	0% {
		transform: scale(0) rotate(0deg);
		opacity: 0;
	}
	/* Adjusted percentages for a 2210ms duration out of 2500ms total */
	/* Original 18% of 2500ms = 450ms. (450 / 2210) * 100 = ~20% */
	20% {
		opacity: 1;
	}
	/* Original 43% of 2500ms = 1075ms. (1075 / 2210) * 100 = ~49% */
	49% {
		transform: scale(1.1) rotate(0deg);
	}
	/* Original 62% of 2500ms = 1550ms. (1550 / 2210) * 100 = ~70% */
	70% {
		transform: scale(0.98) rotate(0deg);
		opacity: 1;
	}
	/* Original 80% of 2500ms = 2000ms. (2000 / 2210) * 100 = ~90.5%, round to 100% for end of grow */
	100% {
		transform: scale(1) rotate(0deg);
		opacity: 1;
	}
}

/* @keyframes grow-and-wobble is now replaced by initial-grow + ghost-wobble-both */

@keyframes grow-ghost {
	0% {
		transform: scale(0);
		opacity: 0;
	}
	30% {
		opacity: 1;
	}
	70% {
		transform: scale(1.1);
	}
	85% {
		transform: scale(0.95);
	}
	100% {
		transform: scale(1);
		opacity: 1;
	}
}

/* ----------------------------------------
   Theme Flow Animation Keyframes
   ---------------------------------------- */

@keyframes rainbowFlow {
	0% {
		filter: hue-rotate(0deg) saturate(1.4) brightness(1.15)
			drop-shadow(0 0 12px rgba(255, 120, 180, 0.35));
	}
	20% {
		filter: hue-rotate(72deg) saturate(1.6) brightness(1.18)
			drop-shadow(0 0 15px rgba(255, 180, 80, 0.4));
	}
	40% {
		filter: hue-rotate(144deg) saturate(1.65) brightness(1.2)
			drop-shadow(0 0 18px rgba(180, 255, 100, 0.45));
	}
	60% {
		filter: hue-rotate(216deg) saturate(1.7) brightness(1.22)
			drop-shadow(0 0 20px rgba(100, 200, 255, 0.5));
	}
	80% {
		filter: hue-rotate(288deg) saturate(1.6) brightness(1.2)
			drop-shadow(0 0 15px rgba(150, 100, 255, 0.4));
	}
	100% {
		filter: hue-rotate(360deg) saturate(1.4) brightness(1.15)
			drop-shadow(0 0 12px rgba(255, 120, 180, 0.35));
	}
}

@keyframes peachFlow {
	0% {
		filter: saturate(1.2) brightness(1.05) hue-rotate(3deg)
			drop-shadow(0 0 8px rgba(120, 240, 200, 0.3));
		transform: scale(1) translateY(0px);
	}
	25% {
		filter: saturate(1.3) brightness(1.1) hue-rotate(5deg)
			drop-shadow(0 0 12px rgba(100, 230, 210, 0.4));
		transform: scale(1) translateY(0px);
	}
	50% {
		filter: saturate(1.5) brightness(1.15) hue-rotate(-2deg)
			drop-shadow(0 0 16px rgba(80, 220, 180, 0.5));
		transform: scale(1) translateY(0px);
	}
	75% {
		filter: saturate(1.3) brightness(1.1) hue-rotate(0deg)
			drop-shadow(0 0 12px rgba(100, 230, 210, 0.4));
		transform: scale(1) translateY(0px);
	}
	100% {
		filter: saturate(1.2) brightness(1.05) hue-rotate(3deg)
			drop-shadow(0 0 8px rgba(120, 240, 200, 0.3));
		transform: scale(1) translateY(0px);
	}
}

@keyframes mintFlow {
	0% {
		filter: saturate(1.2) brightness(1.05) hue-rotate(3deg)
			drop-shadow(0 0 8px rgba(120, 240, 200, 0.3));
		transform: scale(1) translateY(0px);
	}
	25% {
		filter: saturate(1.3) brightness(1.1) hue-rotate(5deg)
			drop-shadow(0 0 12px rgba(100, 230, 210, 0.4));
		transform: scale(1) translateY(0px);
	}
	50% {
		filter: saturate(1.5) brightness(1.15) hue-rotate(-2deg)
			drop-shadow(0 0 16px rgba(80, 220, 180, 0.5));
		transform: scale(1) translateY(0px);
	}
	75% {
		filter: saturate(1.3) brightness(1.1) hue-rotate(0deg)
			drop-shadow(0 0 12px rgba(100, 230, 210, 0.4));
		transform: scale(1) translateY(0px);
	}
	100% {
		filter: saturate(1.2) brightness(1.05) hue-rotate(3deg)
			drop-shadow(0 0 8px rgba(120, 240, 200, 0.3));
		transform: scale(1) translateY(0px);
	}
}

@keyframes bubblegumFlow {
	0% {
		filter: saturate(1.3) brightness(1.05) hue-rotate(-5deg)
			drop-shadow(0 0 8px rgba(200, 100, 240, 0.3));
		transform: scale(1) translateY(0px);
	}
	20% {
		filter: saturate(1.4) brightness(1.08) hue-rotate(-8deg)
			drop-shadow(0 0 10px rgba(190, 110, 230, 0.35));
		transform: scale(1) translateY(0px);
	}
	40% {
		filter: saturate(1.6) brightness(1.12) hue-rotate(2deg)
			drop-shadow(0 0 14px rgba(180, 120, 220, 0.4));
		transform: scale(1) translateY(0px);
	}
	60% {
		filter: saturate(1.7) brightness(1.15) hue-rotate(8deg)
			drop-shadow(0 0 18px rgba(170, 130, 210, 0.45));
		transform: scale(1) translateY(0px);
	}
	80% {
		filter: saturate(1.5) brightness(1.1) hue-rotate(3deg)
			drop-shadow(0 0 14px rgba(180, 120, 220, 0.4));
		transform: scale(1) translateY(0px);
	}
	100% {
		filter: saturate(1.3) brightness(1.05) hue-rotate(-5deg)
			drop-shadow(0 0 8px rgba(200, 100, 240, 0.3));
		transform: scale(1) translateY(0px);
	}
}

/* Theme-specific recording glow animations */
@keyframes recording-glow-peach {
	0%,
	5%,
	95%,
	100% {
		filter: drop-shadow(0 0 45px rgba(255, 80, 150, 1))
			drop-shadow(0 0 105px rgba(255, 150, 100, 0.9)) drop-shadow(0 0 165px rgba(255, 240, 200, 0.8));
		/* transform: scale(1); */ /* Removed */
	}
	25%, 75% {
		filter: drop-shadow(0 0 60px rgba(255, 130, 170, 0.85))
			drop-shadow(0 0 90px rgba(255, 160, 180, 0.7)) drop-shadow(0 0 135px rgba(255, 180, 190, 0.5));
		/* transform: scale(1.05); */ /* Removed */
	}
}

@keyframes recording-glow-mint {
	0%,
	5%,
	95%,
	100% {
		filter: drop-shadow(0 0 45px rgba(0, 220, 150, 1))
			drop-shadow(0 0 105px rgba(100, 255, 210, 0.9)) drop-shadow(0 0 165px rgba(160, 255, 230, 0.8));
		/* transform: scale(1); */ /* Removed */
	}
	25%, 75% {
		filter: drop-shadow(0 0 60px rgba(80, 235, 170, 0.85))
			drop-shadow(0 0 90px rgba(60, 220, 240, 0.65)) drop-shadow(0 0 135px rgba(130, 255, 140, 0.5));
		/* transform: scale(1.05); */ /* Removed */
	}
}

@keyframes recording-glow-bubblegum {
	0%,
	5%,
	95%,
	100% {
		filter: drop-shadow(0 0 45px rgba(140, 80, 255, 1))
			drop-shadow(0 0 105px rgba(180, 120, 255, 0.9)) drop-shadow(0 0 165px rgba(210, 180, 255, 0.8));
		/* transform: scale(1); */ /* Removed */
	}
	25%, 75% {
		filter: drop-shadow(0 0 60px rgba(210, 120, 255, 0.85))
			drop-shadow(0 0 90px rgba(255, 110, 180, 0.65)) drop-shadow(0 0 135px rgba(170, 190, 255, 0.5));
		/* transform: scale(1.05); */ /* Removed */
	}
}

@keyframes rainbow-color-cycle {
	0%,
	100% { /* Base color: rgba(255, 50, 150, 1) - Magentaish Pink */
		filter: drop-shadow(0 0 60px rgba(255, 50, 150, 0.85)) 
			drop-shadow(0 0 90px rgba(255, 50, 150, 0.7)) 
			drop-shadow(0 0 135px rgba(255, 50, 150, 0.6)) 
			drop-shadow(0 0 180px rgba(255, 50, 150, 0.5)) 
			drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
	}
	16.6% { /* Base color: rgba(255, 90, 90, 1) - Reddish */
		filter: drop-shadow(0 0 60px rgba(255, 90, 90, 0.85)) 
			drop-shadow(0 0 90px rgba(255, 90, 90, 0.7)) 
			drop-shadow(0 0 135px rgba(255, 90, 90, 0.6)) 
			drop-shadow(0 0 180px rgba(255, 90, 90, 0.5)) 
			drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
	}
	33.3% { /* Base color: rgba(255, 180, 80, 1) - Orangeish */
		filter: drop-shadow(0 0 60px rgba(255, 180, 80, 0.85)) 
			drop-shadow(0 0 90px rgba(255, 180, 80, 0.7)) 
			drop-shadow(0 0 135px rgba(255, 180, 80, 0.6)) 
			drop-shadow(0 0 180px rgba(255, 180, 80, 0.5)) 
			drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
	}
	50% { /* Base color: rgba(255, 230, 100, 1) - Yellowish */
		filter: drop-shadow(0 0 60px rgba(255, 230, 100, 0.85)) 
			drop-shadow(0 0 90px rgba(255, 230, 100, 0.7)) 
			drop-shadow(0 0 135px rgba(255, 230, 100, 0.6)) 
			drop-shadow(0 0 180px rgba(255, 230, 100, 0.5)) 
			drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
	}
	66.6% { /* Base color: rgba(80, 220, 120, 1) - greenish */
		filter: drop-shadow(0 0 60px rgba(80, 220, 120, 0.85)) 
			drop-shadow(0 0 90px rgba(80, 220, 120, 0.7)) 
			drop-shadow(0 0 135px rgba(80, 220, 120, 0.6)) 
			drop-shadow(0 0 180px rgba(80, 220, 120, 0.5)) 
			drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
	}
	83.3% { /* Base color: rgba(80, 160, 255, 1) - Blueish */
		filter: drop-shadow(0 0 60px rgba(80, 160, 255, 0.85)) 
			drop-shadow(0 0 90px rgba(80, 160, 255, 0.7)) 
			drop-shadow(0 0 135px rgba(80, 160, 255, 0.6)) 
			drop-shadow(0 0 180px rgba(80, 160, 255, 0.5)) 
			drop-shadow(0 0 15px rgba(255, 255, 255, 0.8));
	}
}
