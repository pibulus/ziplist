<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- Theme-aware favicons -->
    <link rel="icon" href="%sveltekit.assets%/favicon.png" />
    <link
      rel="icon"
      href="%sveltekit.assets%/favicon-light.png"
      media="(prefers-color-scheme: light)"
    />
    <link
      rel="icon"
      href="%sveltekit.assets%/favicon-dark.png"
      media="(prefers-color-scheme: dark)"
    />

    <!-- Ghost component now handles SVG rendering directly -->

    <!-- Apple touch icons for all device sizes -->
    <link
      rel="apple-touch-icon"
      href="%sveltekit.assets%/apple-touch-icon.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="%sveltekit.assets%/icons/icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="%sveltekit.assets%/apple-touch-icon.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="167x167"
      href="%sveltekit.assets%/icons/icon-152x152.png"
    />

    <!-- App configuration -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no" />
    <meta
      name="description"
      content="Create stacked list cards with your voice. Ziplist makes it easy to organize your thoughts as you speak."
    />
    <meta
      name="keywords"
      content="voice lists, audio lists, voice notes, list cards, stacked lists, voice organization"
    />
    <meta name="author" content="Dennis & Pablo" />

    <!-- Manifest -->
    <link rel="manifest" href="%sveltekit.assets%/manifest.json" />

    <!-- PWA related meta tags -->
    <meta name="theme-color" content="#FFF6E6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Ziplist" />

    <!-- iOS specific splash screens (main sizes) -->
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-2048-2732.png"
      media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    />
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-1668-2388.png"
      media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    />
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-1536-2048.png"
      media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    />
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-1290-2796.png"
      media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    />
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-1179-2556.png"
      media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    />
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-1170-2532.png"
      media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    />
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-1125-2436.png"
      media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    />
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-1284-2778.png"
      media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    />
    <link
      rel="apple-touch-startup-image"
      href="%sveltekit.assets%/splash/apple-splash-750-1334.png"
      media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://ziplist.app/" />
    <meta property="og:title" content="Ziplist - Voice to Lists" />
    <meta
      property="og:description"
      content="Create organized lists by speaking. Ziplist turns your voice into stacked list cards instantly."
    />
    <meta property="og:image" content="%sveltekit.assets%/og-image.png" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://ziplist.app/" />
    <meta property="twitter:title" content="Ziplist - Voice to Lists" />
    <meta
      property="twitter:description"
      content="Create organized lists by speaking. Ziplist turns your voice into stacked list cards instantly."
    />
    <meta property="twitter:image" content="%sveltekit.assets%/og-image.png" />

    <script>
      // Apply saved theme immediately to prevent flash of default theme
      // StorageUtils inline helpers
      function getStorageItem(key, defaultValue) {
        if (typeof localStorage === "undefined") return defaultValue;

        try {
          const item = localStorage.getItem(key);
          return item !== null ? item : defaultValue;
        } catch (e) {
          console.warn(`Error reading ${key} from localStorage:`, e);
          return defaultValue;
        }
      }

      function setStorageItem(key, value) {
        if (typeof localStorage === "undefined") return false;

        try {
          localStorage.setItem(key, value);
          return true;
        } catch (e) {
          console.warn(`Error saving ${key} to localStorage:`, e);
          return false;
        }
      }

      // Apply theme using storage helpers
      const THEME_KEY = "ziplist-vibe";
      const DEFAULT_THEME = "neo";

      const savedTheme = getStorageItem(THEME_KEY, DEFAULT_THEME);
      document.documentElement.setAttribute("data-theme", savedTheme);
      
      // Check for chunky mode preference, default to true for pop-punk
      const CHUNKY_MODE_KEY = "ziplist-chunky-mode";
      const savedChunkyMode = getStorageItem(CHUNKY_MODE_KEY, "true");
      
      if (savedChunkyMode === "true") {
        document.documentElement.classList.add("mode-neo-brutalist");
      }

      if (savedTheme === DEFAULT_THEME) {
        setStorageItem(THEME_KEY, DEFAULT_THEME);
      }

      // Set initialization flag to prevent duplicate theme application
      window.themeInitialized = true;

      // Force reflow to ensure theme is applied before content renders
      if (typeof document !== "undefined") {
        void document.documentElement.offsetWidth;
      }
    </script>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Ziplist",
        "url": "https://ziplist.app",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Web",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "description": "Create organized lists by speaking. Ziplist turns your voice into stacked list cards instantly.",
        "potentialAction": {
          "@type": "ConsumeAction",
          "target": {
            "@type": "EntryPoint",
            "urlTemplate": "https://ziplist.app",
            "actionPlatform": [
              "http://schema.org/DesktopWebPlatform",
              "http://schema.org/MobileWebPlatform"
            ]
          },
          "expectsAcceptanceOf": {
            "@type": "Offer",
            "category": "free",
            "description": "Free voice-to-list creation service"
          }
        },
        "browserRequirements": "Requires a modern web browser with WebSpeech API or microphone access. Works best in Chrome, Edge, Safari, and Firefox.",
        "keywords": "voice lists, audio lists, voice notes, list cards, stacked lists, voice organization",
        "applicationSubCategory": "Productivity Tools"
      }
    </script>
    %sveltekit.head%
  </head>
  <body data-sveltekit-preload-data="hover">
    <div style="display: contents">%sveltekit.body%</div>
  </body>
</html>
